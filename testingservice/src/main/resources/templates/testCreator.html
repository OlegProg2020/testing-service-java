<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>testing-service</title>
    <script th:src="@{/js/main.js}" type="text/javascript"></script>
</head>
<body>
<h1>Let's create your own test!</h1>
<form th:object="${test}" method="POST" th:action="@{/tests/create}" id="form">
    <label id="title">Title:
        <input type="text" th:field="*{title}" required>
    </label>

    <div th:each="question, questionStat : ${test.questions}" class="question">
        <label>Question number:
            <input type="number" th:field="*{questions[__${questionStat.index}__].number}" required>
        </label>
        <label>Content:
            <textarea th:field="*{questions[__${questionStat.index}__].content}" required></textarea>
        </label>
        <label>Question score:
            <input type="number" th:field="*{questions[__${questionStat.index}__].score}" required>
        </label>

        <div th:each="answer, answerStat : ${test.questions[__${questionStat.index}__].answers}">
            <label>Answer content:
                <textarea th:field="*{questions[__${questionStat.index}__].answers[__${answerStat.index}__].content}"></textarea>
            </label>
            <label>Answer content:
                <input type="text" th:field="*{questions[__${questionStat.index}__].answers[__${answerStat.index}__].correct}" required>
            </label>
        </div>
    </div>

    <div>
        <input type="button" onclick="addQuestion()" value="Add new question">
        <input type="button" onclick="deleteLastQuestion()" value="Delete last question">
    </div>

    <input type="submit" value="Create new test">
</form>
</body>
</html>